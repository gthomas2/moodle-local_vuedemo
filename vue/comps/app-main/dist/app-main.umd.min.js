"use strict";

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

(function (t, e) {
  "object" === (typeof exports === "undefined" ? "undefined" : _typeof(exports)) && "object" === (typeof module === "undefined" ? "undefined" : _typeof(module)) ? module.exports = e() : "function" === typeof define && define.amd ? define([], e) : "object" === (typeof exports === "undefined" ? "undefined" : _typeof(exports)) ? exports["app-main"] = e() : t["app-main"] = e();
})("undefined" !== typeof self ? self : void 0, function () {
  return function (t) {
    var e = {};

    function n(r) {
      if (e[r]) return e[r].exports;
      var o = e[r] = {
        i: r,
        l: !1,
        exports: {}
      };
      return t[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;
    }

    return n.m = t, n.c = e, n.d = function (t, e, r) {
      n.o(t, e) || Object.defineProperty(t, e, {
        enumerable: !0,
        get: r
      });
    }, n.r = function (t) {
      "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
        value: "Module"
      }), Object.defineProperty(t, "__esModule", {
        value: !0
      });
    }, n.t = function (t, e) {
      if (1 & e && (t = n(t)), 8 & e) return t;
      if (4 & e && "object" === _typeof(t) && t && t.__esModule) return t;
      var r = Object.create(null);
      if (n.r(r), Object.defineProperty(r, "default", {
        enumerable: !0,
        value: t
      }), 2 & e && "string" != typeof t) for (var o in t) {
        n.d(r, o, function (e) {
          return t[e];
        }.bind(null, o));
      }
      return r;
    }, n.n = function (t) {
      var e = t && t.__esModule ? function () {
        return t["default"];
      } : function () {
        return t;
      };
      return n.d(e, "a", e), e;
    }, n.o = function (t, e) {
      return Object.prototype.hasOwnProperty.call(t, e);
    }, n.p = "", n(n.s = "274b");
  }({
    "274b": function b(t, e, n) {
      "use strict";

      n.r(e);
      n("6627");

      var r = function r() {
        var t = this,
            e = t.$createElement,
            n = t._self._c || e;
        return n("div", [n("h3", [t._v(t._s(t.title))]), n("kanban-board")], 1);
      },
          o = [],
          i = function i() {
        var t = this,
            e = t.$createElement,
            n = t._self._c || e;
        return n("div", [n("div", {
          staticClass: "kanban container"
        }, [n("div", {
          staticClass: "row"
        }, t._l(t.columns, function (e) {
          return n("div", {
            staticClass: "col",
            attrs: {
              id: e.id
            },
            on: {
              drop: function drop(n) {
                t.drop(n, e.id);
              },
              dragover: function dragover(e) {
                t.allowDrop(e);
              }
            }
          }, [n("h3", [t._v(t._s(e.title))]), t._l(e.tickets, function (e) {
            return n("div", {
              staticClass: "card kanban-card",
              attrs: {
                id: e.id,
                draggable: "true"
              },
              on: {
                dragstart: function dragstart(n) {
                  t.dragstart(t.item, n, e.id);
                },
                dragend: function dragend(n) {
                  t.dragend(n, e.id);
                }
              }
            }, [n("div", {
              staticClass: "card-body"
            }, [n("div", {
              attrs: {
                ciass: "card-title"
              }
            }, [n("h4", [t._v(t._s(e.title))])]), n("div", {
              staticClass: "card-text"
            }, [t._v(t._s(e.description))])])]);
          })], 2);
        }))])]);
      },
          a = [],
          s = {
        data: function data() {
          return {
            dragging: 0
          };
        },
        computed: {
          columns: function columns() {
            return this.$store.state.columns;
          }
        },
        methods: {
          dragstart: function dragstart(t, e, n) {
            this.dragging = n;
          },
          dragend: function dragend(t, e) {
            console.log("dragend for ticketId", e);
          },
          drop: function drop(t, e) {
            var n = this.dragging;
            0 !== n && (console.log("dropped ticketId " + n + " on columnId " + e), this.dragging = 0, this.$store.dispatch("moveTicket", {
              ticketId: n,
              columnId: e
            }));
          },
          allowDrop: function allowDrop(t) {
            t.preventDefault();
          }
        }
      },
          d = s;

      n("bf18");

      function c(t, e, n, r, o, i, a, s) {
        var d,
            c = "function" === typeof t ? t.options : t;
        if (e && (c.render = e, c.staticRenderFns = n, c._compiled = !0), r && (c.functional = !0), i && (c._scopeId = "data-v-" + i), a ? (d = function d(t) {
          t = t || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext, t || "undefined" === typeof __VUE_SSR_CONTEXT__ || (t = __VUE_SSR_CONTEXT__), o && o.call(this, t), t && t._registeredComponents && t._registeredComponents.add(a);
        }, c._ssrRegister = d) : o && (d = s ? function () {
          o.call(this, this.$root.$options.shadowRoot);
        } : o), d) if (c.functional) {
          c._injectStyles = d;
          var u = c.render;

          c.render = function (t, e) {
            return d.call(e), u(t, e);
          };
        } else {
          var l = c.beforeCreate;
          c.beforeCreate = l ? [].concat(l, d) : [d];
        }
        return {
          exports: t,
          options: c
        };
      }

      var u = c(d, i, a, !1, null, "ff2e2778", null),
          l = u.exports,
          f = {
        data: function data() {
          return {
            title: ""
          };
        },
        components: {
          "kanban-board": l
        },
        beforeCreate: function beforeCreate() {
          var t = this;
          requirejs(["core/str"], function (e) {
            e.get_string("kanban", "local_vuedemo").then(function (e) {
              t.title = e;
            });
          });
        }
      },
          p = f,
          v = c(p, r, o, !1, null, null, null),
          _ = v.exports;
      e["default"] = _;
    },
    6627: function _(t, e, n) {
      var r;
      "undefined" !== typeof window && (r = window.document.currentScript) && (r = r.src.match(/(.+\/)[^/]+\.js$/)) && (n.p = r[1]);
    },
    bf18: function bf18(t, e, n) {
      "use strict";

      var r = n("c759"),
          o = n.n(r);
      o.a;
    },
    c759: function c759(t, e, n) {}
  })["default"];
});